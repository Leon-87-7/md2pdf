# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

**md2pdf** is a Python CLI tool that converts Markdown files to professionally-styled PDF documents. It's a single-file application ([md2pdf.py](md2pdf.py)) that uses `markdown` for parsing and `pdfkit` (which wraps `wkhtmltopdf`) for PDF generation.

## Architecture

### Core Components

The application consists of a single Python module with three main functions:

1. **`get_default_css()`** ([md2pdf.py:14-185](md2pdf.py#L14-L185)): Returns the default CSS styling with gradient backgrounds and professional typography
2. **`convert_md_to_pdf()`** ([md2pdf.py:188-253](md2pdf.py#L188-L253)): Main conversion logic that:
   - Reads the Markdown file
   - Converts MD to HTML using the `markdown` library with extensions: `extra`, `codehilite`, `tables`, `toc`
   - Applies CSS styling (default or custom)
   - Generates PDF via `pdfkit`
3. **`main()`** ([md2pdf.py:256-276](md2pdf.py#L256-L276)): CLI entry point using `argparse`

### Dependencies

- **wkhtmltopdf**: External system dependency required for PDF generation
  - Configured at [md2pdf.py:9-11](md2pdf.py#L9-L11) with Windows default path
  - Must be modified for different installation paths or platforms
- **Python packages**: `markdown>=3.4`, `pdfkit>=1.0.0` (see [requirements.txt](requirements.txt))

## Development Commands

### Installation

```bash
# Install in editable mode (recommended for development)
pip install -e .

# Or install dependencies manually
pip install -r requirements.txt
```

### Running the Tool

```bash
# Basic conversion
md2pdf input.md

# With custom output path
md2pdf input.md -o output.pdf

# With custom CSS
md2pdf input.md --css custom.css
```

### Testing the Tool

```bash
# Test basic conversion (no test suite currently exists)
md2pdf README.md

# Verify the generated PDF opens correctly
```

## Platform-Specific Configuration

The `wkhtmltopdf` path is hardcoded for Windows at [md2pdf.py:9-11](md2pdf.py#L9-L11). When developing on other platforms or with different installation paths:

- **macOS**: Typically `/usr/local/bin/wkhtmltopdf` (via Homebrew)
- **Linux**: Typically `/usr/bin/wkhtmltopdf`
- Modify the `config` variable to match your system

## Styling System

The default CSS uses:
- Gradient backgrounds (purple/blue theme)
- Semi-transparent white boxes for content readability
- Professional typography with Segoe UI font family
- Syntax highlighting via `codehilite` markdown extension
- A4 page size with 2cm margins

Custom CSS files should include styles for all HTML elements generated by the markdown parser (headings, paragraphs, tables, code blocks, etc.).

## Git Commit Guidelines

- Never write this in a git commit:
  ```
  ðŸ¤– Generated with [Claude Code](https://claude.ai/code)              â”‚
  â”‚
  â”‚   Co-Authored-By: Claude <noreply@anthropic.com>"
  ```
